require("unistd")
require("stdio")
require("sys/stat")

def main(args):
    if len(args) < 2:
        print("usage: chmod [OPTION]... MODE[,MODE]... FILE...")
        return 1

    # TODO: Implement properly, this is just a demo

    # TODO: Check if path exists
    result = chmod(args[1], int(args[0], 8))

    if result < 0:
        perror("failed to change mode")
        return 1

    return 0