require("stdio")
require("unistd")
require("fcntl")

def main(args):
    if len(args) != 1:
        print(f"usage: tail <path>")
        return 1

    fd = open(args[0], 0, 0)

    if fd < 0:
        perror("Unable to read file")
        return 1

    result = read(fd)


    if result is None:
        perror("Unable to read file")
    else:
        lines = "\n".join(result.split("\n")[-10:])
        print(lines)

    return 0