require("unistd")
require("stdio")

def main(args):
    if len(args) < 2:
        print("usage: ln [OPTIONS] <oldpath> <newpath>")
        return 1

    make_symlink = False

    if "-s" in args:
        make_symlink = True
        args.remove("-s")

    if make_symlink:
        result = symlink(args[0], args[1])
    else:
        result = link(args[0], args[1])

    if result < 0:
        perror("ln")

    return 0